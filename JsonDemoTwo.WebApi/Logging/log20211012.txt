10/12/2021 12:22:55 +02:00 Application Starting
10/12/2021 12:22:56 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 12:22:56 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 12:22:56 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 12:22:56 +02:00 Hosting environment: "Development"
10/12/2021 12:22:56 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 12:22:57 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger - -
10/12/2021 12:22:57 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger - - - 301 0 - 105.5442ms
10/12/2021 12:22:57 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 12:22:57 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 106.0344ms
10/12/2021 12:22:57 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
10/12/2021 12:22:57 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css - -
10/12/2021 12:22:57 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - -
10/12/2021 12:22:57 +02:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
10/12/2021 12:22:57 +02:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
10/12/2021 12:22:57 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 67.9383ms
10/12/2021 12:22:57 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css - - - 200 143632 text/css 122.0097ms
10/12/2021 12:22:57 +02:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
10/12/2021 12:22:57 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 200 1091362 application/javascript 145.1353ms
10/12/2021 12:22:58 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 12:22:58 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.9724ms
10/12/2021 12:23:06 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/api/Albums - -
10/12/2021 12:23:06 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 12:23:06 +02:00 Route matched with "{action = \"GetAlbums\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums()" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 12:23:07 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 12:23:08 +02:00 Failed executing DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Title]
FROM [Albums] AS [a]"
10/12/2021 12:23:08 +02:00 An exception occurred while iterating over the results of a query for context type '"JsonDemoTwo.Models.ApplicationDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Albums'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:24489818-99a9-4523-a280-78ee879732e9
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Albums'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:24489818-99a9-4523-a280-78ee879732e9
Error Number:208,State:1,Class:16
10/12/2021 12:23:08 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)" in 2057.8775ms
10/12/2021 12:23:08 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 12:23:08 +02:00 An unhandled exception has occurred while executing the request.
System.Exception: Error getting all the albums
   at JsonDemoTwo.Repositories.AlbumRepository.GetAllAsync() in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Repositories/AlbumRepository.cs:line 37
   at JsonDemoTwo.Controllers.AlbumsController.GetAlbums() in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Controllers/AlbumsController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
10/12/2021 12:23:08 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/api/Albums - - - 500 - text/plain 2193.1526ms
10/12/2021 12:23:52 +02:00 Application is shutting down...
10/12/2021 12:25:46 +02:00 Application Starting
10/12/2021 12:25:49 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 12:25:49 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 12:25:49 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 12:25:49 +02:00 Hosting environment: "Development"
10/12/2021 12:25:49 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 12:25:51 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 12:25:51 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 117.3928ms
10/12/2021 12:25:51 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 12:25:51 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png - -
10/12/2021 12:25:51 +02:00 Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
10/12/2021 12:25:51 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png - - - 200 628 image/png 42.2735ms
10/12/2021 12:25:51 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.7698ms
10/12/2021 12:25:57 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/api/Albums - -
10/12/2021 12:25:57 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 12:25:57 +02:00 Route matched with "{action = \"GetAlbums\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums()" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 12:26:42 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 12:26:43 +02:00 Failed executing DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Title]
FROM [Albums] AS [a]"
10/12/2021 12:26:43 +02:00 An exception occurred while iterating over the results of a query for context type '"JsonDemoTwo.Models.ApplicationDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Albums'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e894e6b-840a-40d1-a009-f80049b2f5ae
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Albums'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3e894e6b-840a-40d1-a009-f80049b2f5ae
Error Number:208,State:1,Class:16
10/12/2021 12:37:14 +02:00 Application Starting
10/12/2021 12:37:15 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 12:37:15 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 12:37:15 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 12:37:15 +02:00 Hosting environment: "Development"
10/12/2021 12:37:15 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 12:37:16 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 12:37:16 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 247.5896ms
10/12/2021 12:37:17 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 12:37:17 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.5613ms
10/12/2021 12:37:20 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/api/Albums - -
10/12/2021 12:37:21 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 12:37:21 +02:00 Route matched with "{action = \"GetAlbums\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums()" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 12:37:22 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 12:37:23 +02:00 Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Title], [a].[UserId]
FROM [Albums] AS [a]"
10/12/2021 12:37:23 +02:00 Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[JsonDemoTwo.Models.Dtos.AlbumDto, JsonDemoTwo.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
10/12/2021 12:37:23 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)" in 2100.2152ms
10/12/2021 12:37:23 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 12:37:23 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/api/Albums - - - 200 - application/json;+charset=utf-8 2235.7831ms
10/12/2021 12:38:36 +02:00 Application is shutting down...
10/12/2021 13:05:02 +02:00 Application Starting
10/12/2021 13:05:02 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 13:05:02 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 13:05:02 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 13:05:02 +02:00 Hosting environment: "Development"
10/12/2021 13:05:02 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 13:05:04 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 13:05:04 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 124.4962ms
10/12/2021 13:05:04 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 13:05:04 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.1260ms
10/12/2021 13:05:17 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/api/Albums/1 - -
10/12/2021 13:05:17 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbumById (JsonDemoTwo.WebApi)"'
10/12/2021 13:05:17 +02:00 Route matched with "{action = \"GetAlbumById\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbumById(Int32)" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 13:05:18 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 13:05:19 +02:00 Executed DbCommand ("65"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[Title], [a].[UserId]
FROM [Albums] AS [a]
WHERE [a].[Id] = @__p_0"
10/12/2021 13:05:19 +02:00 Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
10/12/2021 13:05:19 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.GetAlbumById (JsonDemoTwo.WebApi)" in 2164.2872ms
10/12/2021 13:05:19 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbumById (JsonDemoTwo.WebApi)"'
10/12/2021 13:05:19 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/api/Albums/1 - - - 404 - application/problem+json;+charset=utf-8 2283.4597ms
10/12/2021 13:05:30 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/api/Albums - -
10/12/2021 13:05:30 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 13:05:30 +02:00 Route matched with "{action = \"GetAlbums\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums()" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 13:05:30 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 13:05:30 +02:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[Title], [a].[UserId]
FROM [Albums] AS [a]"
10/12/2021 13:05:30 +02:00 Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[JsonDemoTwo.Models.Dtos.AlbumDto, JsonDemoTwo.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
10/12/2021 13:05:30 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)" in 99.1325ms
10/12/2021 13:05:30 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.GetAlbums (JsonDemoTwo.WebApi)"'
10/12/2021 13:05:30 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/api/Albums - - - 200 - application/json;+charset=utf-8 108.3754ms
10/12/2021 13:05:42 +02:00 Application is shutting down...
10/12/2021 22:23:41 +02:00 Application Starting
10/12/2021 22:23:43 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 22:23:43 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 22:23:43 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 22:23:43 +02:00 Hosting environment: "Development"
10/12/2021 22:23:43 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 22:23:44 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 22:23:44 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 141.0901ms
10/12/2021 22:23:45 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 22:23:45 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.8770ms
10/12/2021 22:23:58 +02:00 Request starting HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - -
10/12/2021 22:23:58 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:23:58 +02:00 Route matched with "{action = \"DeleteAlbum\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAlbum(Int32)" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 22:24:00 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 22:24:15 +02:00 An error occurred using the connection to database '"MyWebApiDb2"' on server '"localhost,1433"'.
10/12/2021 22:24:15 +02:00 An exception occurred while iterating over the results of a query for context type '"JsonDemoTwo.Models.ApplicationDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
10/12/2021 22:24:15 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)" in 16791.1523ms
10/12/2021 22:24:15 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:24:15 +02:00 An unhandled exception has occurred while executing the request.
System.Exception: Error deleting the album
   at JsonDemoTwo.Repositories.AlbumRepository.DeleteAsync(Int32 id) in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Repositories/AlbumRepository.cs:line 89
   at JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum(Int32 id) in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Controllers/AlbumsController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
10/12/2021 22:24:15 +02:00 Request finished HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - - - 500 - text/plain 17100.5904ms
10/12/2021 22:25:10 +02:00 Application is shutting down...
10/12/2021 22:25:15 +02:00 Application Starting
10/12/2021 22:25:15 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 22:25:15 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 22:25:15 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 22:25:15 +02:00 Hosting environment: "Development"
10/12/2021 22:25:15 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 22:25:16 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 22:25:16 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 255.0458ms
10/12/2021 22:25:17 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 22:25:17 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.6251ms
10/12/2021 22:25:23 +02:00 Request starting HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - -
10/12/2021 22:25:23 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:25:23 +02:00 Route matched with "{action = \"DeleteAlbum\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAlbum(Int32)" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 22:25:25 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 22:25:25 +02:00 Executed DbCommand ("72"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Albums] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END"
10/12/2021 22:25:25 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)" in 2146.4694ms
10/12/2021 22:25:25 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:25:25 +02:00 An unhandled exception has occurred while executing the request.
System.Exception: Error deleting the album
   at JsonDemoTwo.Repositories.AlbumRepository.DeleteAsync(Int32 id) in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Repositories/AlbumRepository.cs:line 89
   at JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum(Int32 id) in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Controllers/AlbumsController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
10/12/2021 22:25:26 +02:00 Request finished HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - - - 500 - text/plain 2372.6140ms
10/12/2021 22:26:04 +02:00 Application is shutting down...
10/12/2021 22:34:46 +02:00 Application Starting
10/12/2021 22:34:49 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 22:34:49 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 22:34:49 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 22:34:49 +02:00 Hosting environment: "Development"
10/12/2021 22:34:49 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 22:34:50 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 22:34:50 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 340.7823ms
10/12/2021 22:34:51 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 22:34:51 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 173.0580ms
10/12/2021 22:35:02 +02:00 Request starting HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - -
10/12/2021 22:35:02 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:35:02 +02:00 Route matched with "{action = \"DeleteAlbum\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAlbum(Int32)" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 22:35:17 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 22:35:18 +02:00 Executed DbCommand ("89"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Albums] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END"
10/12/2021 22:54:32 +02:00 Application Starting
10/12/2021 22:54:33 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 22:54:33 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 22:54:33 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 22:54:33 +02:00 Hosting environment: "Development"
10/12/2021 22:54:33 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 22:54:34 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 22:54:34 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 383.5893ms
10/12/2021 22:54:35 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 22:54:35 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.6647ms
10/12/2021 22:56:21 +02:00 Application is shutting down...
10/12/2021 22:56:26 +02:00 Application Starting
10/12/2021 22:56:27 +02:00 Now listening on: "https://localhost:5001"
10/12/2021 22:56:27 +02:00 Now listening on: "http://localhost:5000"
10/12/2021 22:56:27 +02:00 Application started. Press Ctrl+C to shut down.
10/12/2021 22:56:27 +02:00 Hosting environment: "Development"
10/12/2021 22:56:27 +02:00 Content root path: "/Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi"
10/12/2021 22:56:28 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
10/12/2021 22:56:28 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 401.3887ms
10/12/2021 22:56:29 +02:00 Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
10/12/2021 22:56:29 +02:00 Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.8250ms
10/12/2021 22:56:39 +02:00 Request starting HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - -
10/12/2021 22:56:39 +02:00 Executing endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:56:39 +02:00 Route matched with "{action = \"DeleteAlbum\", controller = \"Albums\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAlbum(Int32)" on controller "JsonDemoTwo.Controllers.AlbumsController" ("JsonDemoTwo.WebApi").
10/12/2021 22:56:40 +02:00 Entity Framework Core "5.0.10" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
10/12/2021 22:56:41 +02:00 Executed DbCommand ("71"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Albums] AS [a]
        WHERE [a].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END"
10/12/2021 22:56:41 +02:00 Executed action "JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)" in 2198.2633ms
10/12/2021 22:56:41 +02:00 Executed endpoint '"JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum (JsonDemoTwo.WebApi)"'
10/12/2021 22:56:41 +02:00 An unhandled exception has occurred while executing the request.
System.Exception: Error deleting the album
   at JsonDemoTwo.Repositories.AlbumRepository.DeleteAsync(Int32 id) in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Repositories/AlbumRepository.cs:line 89
   at JsonDemoTwo.Controllers.AlbumsController.DeleteAlbum(Int32 id) in /Users/macbook/Desktop/ASP .Net Core/JsonDemoTwo/JsonDemoTwo.WebApi/Controllers/AlbumsController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
10/12/2021 22:56:41 +02:00 Request finished HTTP/1.1 DELETE https://localhost:5001/api/Albums/1 - - - 500 - text/plain 2407.7105ms
